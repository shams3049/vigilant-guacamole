@tailwind base;
@tailwind components;
@tailwind utilities;

/* Performance optimizations */
* {
  /* Enable hardware acceleration for smoother animations */
  transform: translateZ(0);
  backface-visibility: hidden;
  perspective: 1000px;
}

/* Optimized wobble animation with reduced complexity */
@keyframes wobbleRotation {
  0% { transform: rotate(0deg); }
  8% { transform: rotate(15deg); }
  16% { transform: rotate(-12deg); }
  24% { transform: rotate(10deg); }
  32% { transform: rotate(-8deg); }
  40% { transform: rotate(6deg); }
  48% { transform: rotate(-4deg); }
  56% { transform: rotate(3deg); }
  64% { transform: rotate(-2deg); }
  72% { transform: rotate(1.5deg); }
  80% { transform: rotate(-1deg); }
  88% { transform: rotate(0.5deg); }
  96% { transform: rotate(-0.2deg); }
  100% { transform: rotate(0deg); }
}

/* Responsive container utilities */
@layer utilities {
  .radar-container {
    min-height: 200px;
    max-height: 100vh;
    max-width: 100vw;
    aspect-ratio: 1 / 1;
    contain: layout style paint;
  }
  
  /* Optimize SVG rendering */
  .radar-svg {
    shape-rendering: geometricPrecision;
    text-rendering: optimizeLegibility;
    will-change: transform;
  }
  
  /* Mobile-first responsive breakpoints */
  @media (max-width: 320px) {
    .radar-container {
      min-height: 250px;
      padding: 8px;
    }
  }
  
  @media (max-width: 480px) {
    .radar-container {
      min-height: 300px;
      padding: 12px;
    }
  }
  
  @media (min-width: 768px) {
    .radar-container {
      min-height: 400px;
      padding: 16px;
    }
  }
  
  @media (min-width: 1024px) {
    .radar-container {
      min-height: 500px;
      padding: 20px;
    }
  }
  
  /* High DPI display optimizations */
  @media (min-resolution: 2dppx) {
    .radar-svg {
      shape-rendering: auto;
    }
  }
  
  /* Reduce motion for accessibility */
  @media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
    }
    
    .wobble-animation {
      animation: none !important;
    }
  }
  
  /* Dark mode support */
  @media (prefers-color-scheme: dark) {
    .radar-container {
      background-color: #1a1a1a;
    }
  }
  
  /* Print styles */
  @media print {
    .radar-container {
      min-height: auto;
      page-break-inside: avoid;
    }
    
    .radar-svg {
      max-width: 100%;
      height: auto;
    }
  }
}

/* Focus styles for accessibility */
[role="button"]:focus-visible {
  outline: 2px solid #FF6B6B;
  outline-offset: 2px;
  border-radius: 4px;
}

/* Touch target optimization for mobile */
@media (pointer: coarse) {
  [role="button"] {
    cursor: pointer;
    touch-action: manipulation;
  }
}

/* Performance hint for animations */
.animate-element {
  will-change: transform, opacity;
}

.animate-element.animation-complete {
  will-change: auto;
}
